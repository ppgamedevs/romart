# =============================================================================
# RomArt Environment Configuration
# =============================================================================

# Database Configuration
DATABASE_URL="postgresql://postgres:Muierapid33#@db.fybgcqqreebirjwfrrin.supabase.co:5432/postgres?sslmode=require"

# Redis Configuration (for rate limiting and sessions)
UPSTASH_REDIS_REST_URL="https://sterling-burro-9756.upstash.io"
UPSTASH_REDIS_REST_TOKEN="ASYcAAImcDE2ZDJhODkxYzJmYWM0Nzg1OTk4NGI4YmUwMjBhMjg2MHAxOTc1Ng"

# =============================================================================
# Storage Configuration (Cloudflare R2)
# =============================================================================

# Storage Provider: S3, R2, or SUPABASE
STORAGE_PROVIDER=R2

# Cloudflare R2 Configuration
S3_REGION=auto
S3_BUCKET=romart-public
S3_PRIVATE_BUCKET=romart-private
S3_ACCESS_KEY_ID=your_r2_access_key_id_here
S3_SECRET_ACCESS_KEY=your_r2_secret_access_key_here
S3_ENDPOINT=https://your_account_id.r2.cloudflarestorage.com
S3_FORCE_PATH_STYLE=false

# CDN Configuration (if using custom domain)
CDN_PUBLIC_URL=https://cdn.yourdomain.com

# Upload Constraints
MAX_UPLOAD_MB=25

# Watermark Configuration
WATERMARK_ENABLED=true
WATERMARK_TEXT=RomArt
WATERMARK_OPACITY=0.30

# =============================================================================
# Authentication Configuration
# =============================================================================

# NextAuth Configuration
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your_nextauth_secret_here

# Google OAuth (optional)
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# =============================================================================
# Application Configuration
# =============================================================================

# API Configuration
API_URL=http://localhost:3001
API_PORT=3004
WEB_PORT=3000

# Environment
NODE_ENV=development

# =============================================================================
# Homepage Configuration
# =============================================================================

# Homepage rails
HOME_TRENDING_WINDOW_DAYS=30
HOME_UNDER_PRICE_MINOR=50000     # 500€ (minor units)
HOME_NEW_LIMIT=24
HOME_TRENDING_LIMIT=18
HOME_UNDER_LIMIT=18
HOME_COLLECTIONS_LIMIT=8

# Site
SITE_NAME=Art from Romania
SITE_URL=https://artfromromania.com

# =============================================================================
# Artist Profile Configuration
# =============================================================================

# Artist features (optional feature flags)
FEATURE_ARTIST_BADGES=true
FEATURE_ARTIST_EXHIBITIONS=true

# =============================================================================
# Supabase Configuration (Alternative to R2)
# =============================================================================

# Uncomment and configure if using Supabase Storage instead of R2
# SUPABASE_URL=your_supabase_url_here
# SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here
# SUPABASE_BUCKET_PUBLIC=romart-public
# SUPABASE_BUCKET_PRIVATE=romart-private

# =============================================================================
# AWS S3 Configuration (Alternative to R2)
# =============================================================================

# Uncomment and configure if using AWS S3 instead of R2
# S3_REGION=us-east-1
# S3_BUCKET=romart-public
# S3_PRIVATE_BUCKET=romart-private
# S3_ACCESS_KEY_ID=your_aws_access_key_id_here
# S3_SECRET_ACCESS_KEY=your_aws_secret_access_key_here
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_FORCE_PATH_STYLE=false

# =============================================================================
# Pricing & Discount Rules Configuration
# =============================================================================

# Valute & TVA
DEFAULT_CURRENCY=EUR
VAT_HOME_COUNTRY=RO
VAT_STANDARD_RATE=0.19        # 19% RO (simplificat)
VAT_ZERO_EXPORT=true           # export extra-UE = 0% (simplificat)

# Fee-uri (arătăm doar preț final; fee-urile afectează contabilitatea)
PLATFORM_FEE_PCT=0.10         # 10% (doar pt. margin calc, nu adaugă peste preț)
CURATOR_COMMISSION_PCT=0.08   # deja folosit în prompts anterioare

# Praguri livrare gratuită (minor units = cenți)
FREE_SHIPPING_RO_MINOR=25000      # 250 EUR în RO
FREE_SHIPPING_INTL_MINOR=150000   # 1500 EUR internațional

# Shipping flat (simplu, overridable în Admin ulterior)
SHIPPING_FLAT_RO_MINOR=3000       # 30 EUR
SHIPPING_FLAT_INTL_MINOR=8000     # 80 EUR

# Print defaults (fallback când nu există preț specific)
PRINT_DEFAULT_MARKUP_PCT=0.65     # 65% peste cost
PRINT_MIN_MARGIN_PCT=0.40         # loss-guard: minim 40% marjă peste cost
PRICE_ROUNDING=END_00             # NONE | END_00 | END_90 | END_99
PRINT_DEFAULT_PACKAGING_MINOR=0   # cenți (EUR) - costuri implicite de ambalare (dacă nu există în DB)
PRINT_BASE_COST_JSON='[
  {"kind":"CANVAS","size":"30x40","baseMinor":2000},
  {"kind":"CANVAS","size":"50x70","baseMinor":4500},
  {"kind":"METAL","size":"30x40","baseMinor":3500},
  {"kind":"METAL","size":"50x70","baseMinor":6500},
  {"kind":"PHOTO","size":"30x40","baseMinor":1500},
  {"kind":"PHOTO","size":"50x70","baseMinor":2800}
]'

# Promoții programabile (ex: -10% la Digital)
PROMO_DIGITAL_PCT=0
PROMO_PAINTING_PCT=0
PROMO_DRAWING_PCT=0
PROMO_PHOTOGRAPHY_PCT=0

# Campanii sezoniere
PROMO_MAX_STACKS=1                # câte reduceri CAMPAIGN pot stacka (0 = doar cea mai „sus")
PROMO_DEFAULT_PRIORITY=50         # default priority pentru campanii noi (0 = cel mai mare)
PROMO_BADGE_MIN_PCT=0.05          # afișăm badge doar dacă reducerea >= 5%

# OG
SITE_URL=https://artfromromania.com
API_URL=http://localhost:3001

# =============================================================================
# Meilisearch Configuration
# =============================================================================

# Meilisearch Server Configuration
MEILI_HOST=http://localhost:7700
MEILI_MASTER_KEY=badd8dc87f331560dc6245b86b6b823648a87e78
MEILI_SEARCH_KEY=78caf90d345c9b7377bb892ba928c11491739f9e0c9d645d8eb007f9d5bd67f0
MEILI_INDEX_ARTWORKS=artworks_v1

# Web App Configuration (Public)
NEXT_PUBLIC_MEILI_HOST=http://localhost:7700
NEXT_PUBLIC_MEILI_SEARCH_KEY=78caf90d345c9b7377bb892ba928c11491739f9e0c9d645d8eb007f9d5bd67f0
NEXT_PUBLIC_MEILI_INDEX_ARTWORKS=artworks_v1

# =============================================================================
# Affiliates & Referrals Configuration
# =============================================================================

# Affiliates System
AFFILIATES_ENABLED=true
AFFIL_COOKIE_NAME=romart_aff
AFFIL_COOKIE_DAYS=30
AFFIL_LAST_CLICK_WINS=true
AFFIL_COMMISSION_BPS_DEFAULT=1000        # 10%
AFFIL_MAX_COMMISSION_EUR=50000           # 500 EUR in minor units
AFFIL_ALLOWED_SOURCES=instagram,tiktok,youtube,facebook,newsletter
AFFIL_PAYOUT_MIN_EUR=5000                # 50 EUR (minor)
AFFIL_PAYOUT_DAY_OF_MONTH=5

# Creator Codes
CREATOR_CODE_PREFIX=ART
CREATOR_CODE_MAX_PER_ARTIST=5
CREATOR_DISCOUNT_BPS_DEFAULT=1000        # 10% discount
CREATOR_BONUS_BPS_DEFAULT=500            # 5% to artist/curator
ATTRIBUTION_FALLBACK_MINUTES=60          # if user doesn't accept cookies

# Stripe Connect
STRIPE_PLATFORM_FEE_BPS=1500             # platform commission
STRIPE_CONNECT_ENABLED=true

# Admin & Cron
ADMIN_CRON_TOKEN=your-secure-cron-token-here

# =============================================================================
# Analytics Configuration (GA4 + PostHog)
# =============================================================================

# GA4
NEXT_PUBLIC_GA4_ID=G-XXXXXXX
GA4_MEASUREMENT_ID=${NEXT_PUBLIC_GA4_ID}
GA4_API_SECRET=ga4_api_secret

# PostHog
NEXT_PUBLIC_POSTHOG_KEY=phc_xxx
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com
POSTHOG_KEY=${NEXT_PUBLIC_POSTHOG_KEY}
POSTHOG_HOST=${NEXT_PUBLIC_POSTHOG_HOST}

# Consent (Prompt 19)
CONSENT_ANALYTICS_COOKIE=romart_consent_analytics   # "true"/"false"
ANONYMIZE_IP=true

# Feature flag (example)
PH_FLAG_PDP_BADGES_TOP=pdp_badges_top

# Admin API auth (simple for SSR fetch)
ADMIN_TOKEN=dev-admin-token
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# =============================================================================
# Recommendations & Personalization
# =============================================================================

RECS_ENABLED=true
RECS_TRENDING_WINDOW_DAYS=14
RECS_MAX_PER_SECTION=16
RECS_DIVERSITY_ARTIST=true
RECS_PRICE_BAND_TOLERANCE=0.35
RECS_AB_FLAG_FORMULA=rec_formula_v2
PGVECTOR_ENABLED=false
DISCOVER_PAGE_SIZE=24

# =============================================================================
# Quick View & Cart Configuration
# =============================================================================

# Quick View API endpoints
NEXT_PUBLIC_CART_ADD_ENDPOINT=/api/cart/add
NEXT_PUBLIC_API_URL=http://localhost:3001

# =============================================================================
# Tax & Invoice Configuration
# =============================================================================

# Tax Strategy
TAX_STRATEGY=INTERNAL
ORIGIN_COUNTRY=RO
DEFAULT_CURRENCY=EUR

# Company Information (for invoices)
SELLER_NAME="OnlyTips SRL"
SELLER_VAT_ID="RO48815440"
SELLER_REG_NO="J40/16778/2020"
SELLER_ADDRESS_LINE1="Str. Ceahlaul 16"
SELLER_ADDRESS_CITY="București"
SELLER_ADDRESS_POSTCODE="060379"
SELLER_ADDRESS_COUNTRY="RO"
SELLER_IBAN="RO75UGBI0000362024482EUR"
SELLER_EMAIL="billing@artfromromania.com"

# Invoice Configuration
INVOICE_SERIES="RO-AFR"
INVOICE_YEAR_PREFIX=true
INVOICE_START_NUMBER=1

# VIES Configuration
VIES_ENABLED=true

# Stripe Tax (optional)
STRIPE_TAX_ENABLED=false

# =============================================================================
# Digital Delivery Configuration
# =============================================================================

# Download Configuration
DOWNLOAD_TOKEN_TTL_SECONDS=900            # 15 minute valabilitate link
DOWNLOAD_MAX_TIMES=5                      # descărcări per entitlement

# Digital Watermark Configuration
DIGITAL_WATERMARK_ENABLED=true            # aplică watermark pe imagini
DIGITAL_WATERMARK_TEXT="Purchased via ArtFromRomania"
DIGITAL_WATERMARK_INCLUDE_EMAIL=true
DIGITAL_WATERMARK_OPACITY=0.25

# =============================================================================
# Stripe Connect Configuration
# =============================================================================

# Stripe Connect (Express)
STRIPE_CONNECT_CLIENT_ID=ca_...           # Connect client ID from Stripe Dashboard
CONNECT_PLATFORM_FEE_BPS=3000             # 30% platform fee (3000 basis points)
CONNECT_PAYOUT_DELAY_DAYS=0               # 0 = immediate; 7 = 7-day return period
CONNECT_ONBOARDING_RETURN_URL=http://localhost:3000/studio/payouts
CONNECT_ONBOARDING_REFRESH_URL=http://localhost:3000/studio/payouts

# =============================================================================
# Vision & Moderation Configuration
# =============================================================================

# Vision provider optional (fallback = MANUAL)
VISION_PROVIDER=NONE            # NONE | GCV | AWS | CF_WORKERS_AI
VISION_API_KEY=                 # cheie dacă e nevoie (de ex. CF)
VISION_PROJECT_ID=              # dacă e GCV/AWS potrivit
VISION_REGION=                  # ex. eu

# Moderation
MATURE_BLUR_ENABLED=true
MATURE_CLICKTHROUGH_TEXT="Sensitive content — click to view"
UPLOAD_MAX_PER_HOUR=120         # per user/IP
REPORTS_RATE_PER_HOUR=30        # per user/IP
TRUST_INITIAL_SCORE=50
TRUST_MIN_TO_PUBLISH=0          # lăsăm 0 (gating-ul vine din KYC), dar scorul poate penaliza ranking

# =============================================================================
# Print-on-Demand (PoD) Configuration
# =============================================================================

# PoD Provider
POD_PROVIDER=INHOUSE
POD_PRINT_MIN_DPI=150
POD_PRINT_BLEED_MM=3
POD_DEFAULT_SHIP_METHOD=STANDARD      # STANDARD | EXPRESS

# In-house Rate Table (JSON)
POD_INHOUSE_RATE_TABLE_JSON='{
  "zones":[
    {"id":"RO","countries":["RO"]},
    {"id":"EU","countries":["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"]},
    {"id":"INTL","countries":["*"]}
  ],
  "sizeTiers":[
    {"id":"S","maxLongEdgeCm":40},
    {"id":"M","maxLongEdgeCm":70},
    {"id":"L","maxLongEdgeCm":100}
  ],
  "rates": [
    {"zone":"RO","method":"STANDARD","tier":"S","amount":2500,"currency":"EUR"},
    {"zone":"RO","method":"STANDARD","tier":"M","amount":3500,"currency":"EUR"},
    {"zone":"RO","method":"STANDARD","tier":"L","amount":4500,"currency":"EUR"},
    {"zone":"EU","method":"STANDARD","tier":"S","amount":9000,"currency":"EUR"},
    {"zone":"EU","method":"STANDARD","tier":"M","amount":12000,"currency":"EUR"},
    {"zone":"EU","method":"STANDARD","tier":"L","amount":15000,"currency":"EUR"},
    {"zone":"INTL","method":"STANDARD","tier":"S","amount":15000,"currency":"EUR"},
    {"zone":"INTL","method":"STANDARD","tier":"M","amount":20000,"currency":"EUR"},
    {"zone":"INTL","method":"STANDARD","tier":"L","amount":26000,"currency":"EUR"}
  ]
}'

# =============================================================================
# Shipping Configuration (ORIGINAL Artworks)
# =============================================================================

# Shipping provider (quotes). Începe cu INHOUSE (matrice). Poți schimba pe SHIPPO/EASYPOST ulterior.
SHIP_PROVIDER=INHOUSE            # INHOUSE | SHIPPO | EASYPOST
SHIP_ORIGIN_COUNTRY=RO
SHIP_ORIGIN_POSTCODE=010000
SHIP_DEFAULT_METHOD=STANDARD     # STANDARD | EXPRESS
SHIP_INSURANCE_ENABLED=true
SHIP_INSURANCE_RATE_BPS=100      # 1% din valoarea asigurată
SHIP_DIM_WEIGHT_DIVISOR=5000     # volumetric kg = L*W*H(cm)/divisor
SHIP_MAX_SIDE_CM=150             # limită latură mare pentru oversize

# Pachete disponibile (interior, cm, kg). One-line JSON.
SHIP_PACKAGES_JSON='{
  "boxes":[
    {"id":"BX_S","innerL":40,"innerW":30,"innerH":10,"maxKg":5},
    {"id":"BX_M","innerL":80,"innerW":60,"innerH":12,"maxKg":10},
    {"id":"BX_L","innerL":120,"innerW":80,"innerH":15,"maxKg":20}
  ],
  "tubes":[
    {"id":"TB_S","innerL":60,"innerDia":12,"maxKg":5},
    {"id":"TB_M","innerL":100,"innerDia":15,"maxKg":8},
    {"id":"TB_L","innerL":140,"innerDia":20,"maxKg":12}
  ]
}'

# Tarife INHOUSE pe zone & serviciu (minor units EUR). One-line JSON.
SHIP_RATE_TABLE_JSON='{
  "zones":[
    {"id":"RO","countries":["RO"]},
    {"id":"EU","countries":["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"]},
    {"id":"INTL","countries":["*"]}
  ],
  "services":["STANDARD","EXPRESS"],
  "base":[
    {"zone":"RO","service":"STANDARD","firstKg":1500,"addKg":300},
    {"zone":"RO","service":"EXPRESS","firstKg":2500,"addKg":500},
    {"zone":"EU","service":"STANDARD","firstKg":3000,"addKg":800},
    {"zone":"EU","service":"EXPRESS","firstKg":6000,"addKg":1200},
    {"zone":"INTL","service":"STANDARD","firstKg":5000,"addKg":1500},
    {"zone":"INTL","service":"EXPRESS","firstKg":9000,"addKg":2500}
  ],
  "oversizeSurcharge":[
    {"zone":"RO","amount":2000},
    {"zone":"EU","amount":5000},
    {"zone":"INTL","amount":9000}
  ],
  "signatureFee":[
    {"zone":"RO","amount":300},
    {"zone":"EU","amount":500},
    {"zone":"INTL","amount":800}
  ]
}'

# =============================================================================
# Label Purchase & Tracking Configuration
# =============================================================================

# Labels & tracking (fără pickup)
SHIP_LABEL_PROVIDER=INHOUSE           # INHOUSE (manual upload)
SHIP_LABEL_FORMAT=PDF_A4              # sau PDF_4x6
SHIP_WEBHOOK_SECRET=whsec_ship_local  # random string; folosit doar dacă vei folosi agregator ulterior

# Carrier policy (hard rules)
SHIP_CARRIER_DOMESTIC=SAMEDAY
SHIP_CARRIER_INTL=DHL

# =============================================================================
# Admin Backoffice Configuration
# =============================================================================

# Admin
ADMIN_EXPORT_MAX_ROWS=50000
ADMIN_IMPERSONATE_ENABLED=true
ADMIN_DOWNLOAD_URL_TTL_SECONDS=300

# =============================================================================
# Performance & SEO Configuration
# =============================================================================

# CDN & images
CDN_PUBLIC_URL=https://cdn.artfromromania.com
IMAGE_ALLOWED_ORIGINS=cdn.artfromromania.com,images.unsplash.com

# Revalidation
ON_DEMAND_REVALIDATE_SECRET=super-secret
EDGE_CACHE_TAG_HEADER=x-romart-tag

# RUM
RUM_PROVIDER=INTERNAL         # NONE | INTERNAL
RUM_SAMPLE_RATE=0.1           # 10%
RUM_ENDPOINT=/api/rum

# Cloudflare purge (opțional)
CF_API_TOKEN=
CF_ZONE_ID=

# =============================================================================
# i18n & Multi-currency Configuration
# =============================================================================

# i18n
DEFAULT_LOCALE=en
SUPPORTED_LOCALES=en,ro

# Currencies
DEFAULT_CURRENCY=EUR
SUPPORTED_CURRENCIES=EUR,RON,USD
DISPLAY_CURRENCY_COOKIE=romart_cur
CURRENCY_ROUNDING_RULE=PSYCHO        # NEAREST | FLOOR | CEIL | PSYCHO (9/99 end)
CURRENCY_MARKUP_BPS=150              # +1.5% acoperă spread & riscuri

# FX
FX_PROVIDER=ECB                      # ECB | OPENEX
FX_REFRESH_MINUTES=60
OPENEX_APP_ID=                       # dacă FX_PROVIDER=OPENEX
FX_BASE=EUR

# Geo (Cloudflare)
GEO_HEADER=cf-ipcountry
GEO_DEFAULT_LOCALE_RO=RO             # dacă țara=RO => ro + RON
GEO_DEFAULT_CURRENCY_RO=RON

# Stripe
STRIPE_SUPPORTED_PRESENTMENT=EUR,USD,RON

# =============================================================================
# Curator System Configuration
# =============================================================================

# Curator economics
CURATOR_COMMISSION_BASIS=PLATFORM_FEE   # PLATFORM_FEE | GROSS
CURATOR_COMMISSION_PCT=0.08             # 8%
CURATOR_CLAIM_TIMEOUT_MIN=15
CURATOR_MAX_ACTIVE_CLAIMS=5

# Online presence
CURATOR_HEARTBEAT_WINDOW_SEC=180        # dacă < 3 min => online

# Public listing
CURATOR_PUBLIC_PAGE_SIZE=24

# Email notify
DEFAULT_CURATOR_ALIAS=curators@artfromromania.com
NOTIFY_FROM="Art from Romania <no-reply@artfromromania.com>"

# Curator Payouts
CURATOR_PAYOUTS_METHOD=STRIPE_CONNECT   # STRIPE_CONNECT | MANUAL_CSV
CURATOR_PAYOUT_CURRENCY=EUR
CURATOR_PAYOUT_MIN_MINOR=5000           # min 50.00 EUR
CURATOR_PAYOUT_GRACE_DAYS=14            # zile până devine „eligible"
CURATOR_PAYOUT_BATCH_LABEL_PREFIX=curator-payouts

# =============================================================================
# Email & Notifications Configuration
# =============================================================================

# Email Provider
EMAIL_PROVIDER=RESEND
EMAIL_FROM="RomArt <no-reply@artfromromania.com>"
EMAIL_REPLY_TO="curator@artfromromania.com"
RESEND_API_KEY=your_resend_api_key_here

# Notification Settings
NOTIF_SIGNED_URL_TTL=900

# =============================================================================
# Sentry Configuration
# =============================================================================

# Sentry DSN (for error tracking and monitoring)
SENTRY_DSN=https://92c87399e7db7a64630b0685c745dd81@o4509909705883648.ingest.de.sentry.io/4509910468788304
SENTRY_ENV=dev                 # dev | staging | production
SENTRY_TRACES_SAMPLE_RATE=0.2  # 20% sampling (ajustează în prod)
SENTRY_PROFILES_SAMPLE_RATE=0

# Sentry Auth Token (for source map uploads - DO NOT commit to repository!)
SENTRY_AUTH_TOKEN=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

# =============================================================================
# OpenTelemetry Configuration
# =============================================================================

# OpenTelemetry (tracing)
OTEL_EXPORTER_OTLP_ENDPOINT=               # ex: https://otlp.yourtraces.com/v1/traces
OTEL_EXPORTER_OTLP_HEADERS=                # ex: "x-otlp-api-key=XXXX"
OTEL_SERVICE_NAME_API=romart-api
OTEL_SERVICE_NAME_WEB=romart-web

# =============================================================================
# Logs & Alerts Configuration
# =============================================================================

# Logs & Alerts
LOG_LEVEL=info
SLACK_WEBHOOK_URL=                        # ops#alerts (opțional)

# Health deps
HEALTH_STRIPE=true
HEALTH_MEILI=true
HEALTH_STORAGE=true

# =============================================================================
# Backup & Disaster Recovery Configuration
# =============================================================================

# Backup targets
BACKUP_BUCKET=r2-romart-backups           # bucket R2 (separat de media)
BACKUP_PREFIX=db/                         # prefix în bucket
BACKUP_RETENTION_DAYS=30
BACKUP_REGION=auto
R2_ACCOUNT_ID=xxxxxxxxxxxxxxxxxxxx
R2_ACCESS_KEY_ID=xxxxxxxxxxxx
R2_SECRET_ACCESS_KEY=xxxxxxxxxxxx
R2_ENDPOINT=https://${R2_ACCOUNT_ID}.r2.cloudflarestorage.com

# DB (Supabase Postgres)
DATABASE_URL=postgresql://user:pass@db.fybg...:5432/postgres?sslmode=require

# Optional crypto for offsite dumps (age)
AGE_RECIPIENT=age1q....                   # cheia publică; privată o ții offline

# Meili (dacă folosești dump nativ; altfel re-indexăm din DB)
MEILI_HOST=https://meili.internal
MEILI_API_KEY=xxxx

# SEO Technical v1
SITE_URL=https://artfromromania.com
# NEXT_PUBLIC_OG_IMAGE_FALLBACK=https://artfromromania.com/og-default.jpg

# Performance & Core Web Vitals v1
NEXT_PUBLIC_API_URL=http://localhost:3001
# Domeniul public R2 (imagini)
NEXT_PUBLIC_R2_PUBLIC_HOST=https://<subdomeniu>.r2.dev

# =============================================================================
# Collections & Analytics Configuration
# =============================================================================

# Collections
COLLECTIONS_PAGE_SIZE=24

# Analytics
INSIGHTS_WINDOW_DAYS=30
INSIGHTS_MIN_SAMPLE=20     # minim evenimente pt. a afișa rate
INSIGHTS_LAG_BUCKETS="0-1d,1-7d,7-30d,>30d"

# =============================================================================
# Search 2.0 Configuration
# =============================================================================

# Search
SEARCH_LANGS=ro,en
SEARCH_MAX_RESULTS=48
SEARCH_SUGGEST_MIN_CHARS=2
SEARCH_MIN_SCORE=0.02

# Weights (semnale, tune in Admin ulterior)
SEARCH_W_TITLE=2.0
SEARCH_W_TAGS=1.2
SEARCH_W_CURATED=1.0
SEARCH_W_FEATURED=0.8
SEARCH_W_VIEWS30=0.2
SEARCH_W_SAVES30=0.6
SEARCH_W_PURCHASES90=1.5

# Facets defaults
SEARCH_PRICE_MIN_MINOR=0
SEARCH_PRICE_MAX_MINOR=100000000   # 1,000,000 €

# =============================================================================
# Search 2.1 Configuration (Synonyms, Admin Boosts, Min Price)
# =============================================================================

SEARCH_SYNONYM_EXPAND_LIMIT=5       # max sinonime per token
SEARCH_BOOST_MAX=3.0                # plafon boost agregat în index
SEARCH_MINPRICE_USE_QUOTE=false     # dacă TRUE, calculează „de la" cu getQuote() (mai lent)

# =============================================================================
# Content QA & Broken Images Monitor Configuration
# =============================================================================

# QA Scan Settings
QA_SCAN_INTERVAL_HOURS=6             # interval scan automat (cron)
QA_SCAN_BATCH_SIZE=50                # batch size pentru scan
QA_SCAN_CONCURRENCY=10               # concurență HTTP requests
QA_SCAN_TIMEOUT_MS=10000             # timeout per request (10s)
QA_SCAN_RETRY_ATTEMPTS=2             # retry attempts per image

# Image Quality Thresholds
QA_IMAGE_MIN_WIDTH_PX=200            # dimensiune minimă imagine
QA_IMAGE_MIN_HEIGHT_PX=200
QA_IMAGE_MAX_RESPONSE_TIME_MS=5000   # timp răspuns maxim (5s)
QA_IMAGE_MIN_SIZE_BYTES=1024         # dimensiune minimă fișier (1KB)

# Alerting
QA_ALERT_EMAIL_TO=admin@artfromromania.com
QA_ALERT_EMAIL_FROM=noreply@artfromromania.com
QA_ALERT_SLACK_WEBHOOK=              # opțional, pentru Slack alerts
QA_ALERT_MIN_SEVERITY=WARNING        # WARNING, ERROR, CRITICAL

# Admin Queue
QA_QUEUE_PAGE_SIZE=20                # paginare queue admin
QA_QUEUE_AUTO_RESOLVE_DAYS=7         # auto-resolve după X zile

# =============================================================================
# i18n & SEO Configuration
# =============================================================================

SITE_NAME=Art from Romania
SITE_URL=https://artfromromania.com
DEFAULT_LOCALE=en
LOCALES=en,ro
GOOGLE_SITE_VERIFICATION=             # ex: abcDEFghijk_lmnop

# (opțional) branding/SEO
TWITTER_HANDLE=@artfromromania

# =============================================================================
# Homepage Configuration
# =============================================================================

# Homepage rails
HOME_TRENDING_WINDOW_DAYS=30
HOME_UNDER_PRICE_MINOR=50000     # 500€ (minor units)
HOME_NEW_LIMIT=24
HOME_TRENDING_LIMIT=18
HOME_UNDER_LIMIT=18
HOME_COLLECTIONS_LIMIT=8
